
 

     CREATE TABLE IF NOT EXISTS spenden (id INT AUTO_INCREMENT NOT NULL, payment_id INT DEFAULT NULL, status CHAR(1) DEFAULT 'N' NOT NULL, name VARCHAR(250) DEFAULT NULL, ort VARCHAR(250) DEFAULT NULL, email VARCHAR(250) DEFAULT NULL, info TINYINT(1) DEFAULT '0' NOT NULL, bescheinigung TINYINT(1) DEFAULT NULL, eintrag VARCHAR(250) DEFAULT '' NOT NULL, betrag VARCHAR(250) DEFAULT NULL, periode SMALLINT DEFAULT 0 NOT NULL, zahlweise CHAR(3) DEFAULT 'BEZ' NOT NULL, kommentar LONGTEXT NOT NULL, ueb_code VARCHAR(32) DEFAULT '' NOT NULL, data LONGTEXT DEFAULT NULL, source VARCHAR(250) DEFAULT NULL, remote_addr VARCHAR(250) DEFAULT '' NOT NULL, hash VARCHAR(250) DEFAULT NULL, is_public TINYINT(1) DEFAULT '0' NOT NULL, dt_new DATETIME NOT NULL, dt_del DATETIME DEFAULT NULL, dt_exp DATETIME DEFAULT NULL, dt_gruen DATETIME DEFAULT NULL, dt_backup DATETIME DEFAULT NULL, UNIQUE INDEX UNIQ_3CBBD0454C3A3BB (payment_id), FULLTEXT INDEX d_email (email), FULLTEXT INDEX d_name (name), FULLTEXT INDEX d_ort (ort), INDEX d_dt_new (dt_new, is_public), INDEX d_zahlweise (zahlweise, dt_new), INDEX d_dt_gruen (dt_gruen, dt_del), INDEX d_ueb_code (ueb_code), INDEX d_dt_backup (dt_backup), INDEX d_status (status, dt_new), INDEX d_comment_list (is_public, dt_del), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS donation_notification_log (donation_id INT NOT NULL, PRIMARY KEY(donation_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS donation_payment (id INT AUTO_INCREMENT NOT NULL, payment_type VARCHAR(3) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS donation_payment_sofort (id INT NOT NULL, confirmed_at DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS request (id INT AUTO_INCREMENT NOT NULL, status SMALLINT DEFAULT 0, donation_id INT DEFAULT NULL, timestamp DATETIME NOT NULL, anrede VARCHAR(16) DEFAULT NULL, firma VARCHAR(100) DEFAULT NULL, titel VARCHAR(16) DEFAULT NULL, name VARCHAR(250) DEFAULT '' NOT NULL, vorname VARCHAR(50) DEFAULT '' NOT NULL, nachname VARCHAR(50) DEFAULT '' NOT NULL, strasse VARCHAR(100) DEFAULT NULL, plz VARCHAR(8) DEFAULT NULL, ort VARCHAR(100) DEFAULT NULL, country VARCHAR(8) DEFAULT '', email VARCHAR(250) DEFAULT '' NOT NULL, phone VARCHAR(30) DEFAULT '' NOT NULL, dob DATE DEFAULT NULL, wikimedium_shipping VARCHAR(255) DEFAULT '' NOT NULL, membership_type VARCHAR(255) DEFAULT 'sustaining' NOT NULL, payment_type VARCHAR(255) DEFAULT 'BEZ' NOT NULL, membership_fee INT DEFAULT 0 NOT NULL, membership_fee_interval SMALLINT DEFAULT 12, account_number VARCHAR(16) DEFAULT '' NOT NULL, bank_name VARCHAR(100) DEFAULT '' NOT NULL, bank_code VARCHAR(16) DEFAULT '' NOT NULL, iban VARCHAR(32) DEFAULT '', bic VARCHAR(32) DEFAULT '', account_holder VARCHAR(50) DEFAULT '' NOT NULL, comment LONGTEXT NOT NULL, export DATETIME DEFAULT NULL, backup DATETIME DEFAULT NULL, wikilogin TINYINT(1) DEFAULT '0' NOT NULL, tracking VARCHAR(50) DEFAULT NULL, data LONGTEXT DEFAULT NULL, donation_receipt TINYINT(1) DEFAULT NULL, FULLTEXT INDEX m_email (email), FULLTEXT INDEX m_name (name), FULLTEXT INDEX m_ort (ort), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS membership_incentive (membership_id INT NOT NULL, incentive_id INT NOT NULL, INDEX IDX_4AE7CF6F1FB354CD (membership_id), INDEX IDX_4AE7CF6FF17F400F (incentive_id), PRIMARY KEY(membership_id, incentive_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS incentive (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(32) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS subscription (id INT AUTO_INCREMENT NOT NULL, email VARCHAR(250) DEFAULT '' NOT NULL, export DATETIME DEFAULT NULL, backup DATETIME DEFAULT NULL, status SMALLINT DEFAULT NULL, confirmationCode VARCHAR(32) DEFAULT NULL, tracking VARCHAR(50) DEFAULT NULL, source VARCHAR(50) DEFAULT NULL, createdAt DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS address (id INT AUTO_INCREMENT NOT NULL, salutation VARCHAR(16) DEFAULT NULL, company VARCHAR(100) DEFAULT NULL, title VARCHAR(16) DEFAULT NULL, first_name VARCHAR(50) DEFAULT '' NOT NULL, last_name VARCHAR(50) DEFAULT '' NOT NULL, street VARCHAR(100) DEFAULT NULL, postcode VARCHAR(8) DEFAULT NULL, city VARCHAR(100) DEFAULT NULL, country VARCHAR(8) DEFAULT '', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS address_change (id INT AUTO_INCREMENT NOT NULL, address_id INT DEFAULT NULL, address_type VARCHAR(10) NOT NULL, external_id INT NOT NULL, external_id_type VARCHAR(10) NOT NULL, export_date DATETIME DEFAULT NULL, created_at DATETIME NOT NULL, modified_at DATETIME NOT NULL, donation_receipt TINYINT(1) NOT NULL, current_identifier VARCHAR(36) NOT NULL, previous_identifier VARCHAR(36) NOT NULL, INDEX ac_export_date (export_date), INDEX IDX_7B0E7B9FF5B7AF75 (address_id), UNIQUE INDEX UNIQ_7B0E7B9FA8954A18 (current_identifier), UNIQUE INDEX UNIQ_7B0E7B9F2EC1D3 (previous_identifier), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS bucket_log (id INT AUTO_INCREMENT NOT NULL, event_name VARCHAR(24) NOT NULL, external_id INT NOT NULL, date DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS bucket_log_bucket (id INT AUTO_INCREMENT NOT NULL, bucket_log_id INT NOT NULL, name VARCHAR(24) NOT NULL, campaign VARCHAR(24) NOT NULL, INDEX idx_bucket_log (bucket_log_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     CREATE TABLE IF NOT EXISTS geodaten_artikelnr_1001 (id INT AUTO_INCREMENT NOT NULL, BUNDESLAND_NAME VARCHAR(30) DEFAULT NULL, BUNDESLAND_NUTSCODE VARCHAR(3) DEFAULT NULL, REGIERUNGSBEZIRK_NAME VARCHAR(50) DEFAULT NULL, REGIERUNGSBEZIRK_NUTSCODE VARCHAR(5) DEFAULT NULL, KREIS_NAME VARCHAR(50) DEFAULT NULL, KREIS_TYP VARCHAR(40) DEFAULT NULL, KREIS_NUTSCODE VARCHAR(5) DEFAULT NULL, GEMEINDE_NAME VARCHAR(50) DEFAULT NULL, GEMEINDE_TYP VARCHAR(40) DEFAULT NULL, GEMEINDE_AGS VARCHAR(8) DEFAULT NULL, GEMEINDE_RS VARCHAR(20) NOT NULL, GEMEINDE_LAT NUMERIC(8, 5) UNSIGNED DEFAULT NULL, GEMEINDE_LON NUMERIC(8, 5) UNSIGNED DEFAULT NULL, ORT_ID INT UNSIGNED DEFAULT NULL, ORT_NAME VARCHAR(80) DEFAULT NULL, ORT_LAT NUMERIC(8, 5) DEFAULT NULL, ORT_LON NUMERIC(8, 5) DEFAULT NULL, POSTLEITZAHL CHAR(5) NOT NULL, INDEX idx_postcode (POSTLEITZAHL), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;
     ALTER TABLE spenden ADD CONSTRAINT FK_3CBBD0454C3A3BB FOREIGN KEY (payment_id) REFERENCES donation_payment (id);
     ALTER TABLE donation_payment_sofort ADD CONSTRAINT FK_2DF4845ABF396750 FOREIGN KEY (id) REFERENCES donation_payment (id) ON DELETE CASCADE;
     ALTER TABLE membership_incentive ADD CONSTRAINT FK_4AE7CF6F1FB354CD FOREIGN KEY (membership_id) REFERENCES request (id);
     ALTER TABLE membership_incentive ADD CONSTRAINT FK_4AE7CF6FF17F400F FOREIGN KEY (incentive_id) REFERENCES incentive (id);
     ALTER TABLE address_change ADD CONSTRAINT FK_7B0E7B9FF5B7AF75 FOREIGN KEY (address_id) REFERENCES address (id);
     ALTER TABLE bucket_log_bucket ADD CONSTRAINT FK_953634738DD5EE37 FOREIGN KEY (bucket_log_id) REFERENCES bucket_log (id);
